(this["webpackJsonpwod-with-faris"]=this["webpackJsonpwod-with-faris"]||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},119:function(e,t,a){e.exports=a.p+"static/media/faris_img.5bd14a09.JPG"},120:function(e,t,a){e.exports=a.p+"static/media/about_img_1.04d15c22.JPG"},121:function(e,t,a){e.exports=a.p+"static/media/vbc.8b1b7968.vcf"},125:function(e,t,a){e.exports=a(186)},131:function(e,t,a){},133:function(e,t,a){},140:function(e,t,a){},153:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(85),o=a.n(r),c=a(109),l=a.n(c),i=a(12),u=a.n(i),m=(a(131),a(7)),p=a(8),h=a(11),d=a(10),f=(a(132),a(133),a(13)),E=a(14),g=a(110),b=(a(138),g.initializeApp({apiKey:"AIzaSyAYF6CkdEYcdp7Nj6Xb-qfddApF8y4TrTQ",authDomain:"wod-with-faris.firebaseapp.com",databaseURL:"https://wod-with-faris.firebaseio.com",projectId:"wod-with-faris",storageBucket:"156551100887",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FIREBASE_KEY:"AIzaSyAYF6CkdEYcdp7Nj6Xb-qfddApF8y4TrTQ",REACT_APP_FIREBASE_DOMAIN:"wod-with-faris.firebaseapp.com",REACT_APP_FIREBASE_DATABASE:"https://wod-with-faris.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"wod-with-faris",REACT_APP_FIREBASE_STORAGE_BUCKET:"156551100887",REACT_APP_GOOGLE_MEASUREMENT_ID:"UA-162899429-1"}).REACT_APP_FIREBASE_SENDER_ID,measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FIREBASE_KEY:"AIzaSyAYF6CkdEYcdp7Nj6Xb-qfddApF8y4TrTQ",REACT_APP_FIREBASE_DOMAIN:"wod-with-faris.firebaseapp.com",REACT_APP_FIREBASE_DATABASE:"https://wod-with-faris.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"wod-with-faris",REACT_APP_FIREBASE_STORAGE_BUCKET:"156551100887",REACT_APP_GOOGLE_MEASUREMENT_ID:"UA-162899429-1"}).REACT_APP_MEASUREMENT_ID})),C=(a(140),a(18)),v=a.n(C),y=(a(153),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.toggleShow;return s.a.createElement("div",null,s.a.createElement(v.a,{position:"centerCenter",open:t,closeBtn:!0,closeOnEsc:!0,onClose:function(){return a(!1)},closeOnOverlay:!0},s.a.createElement("h1",{className:"schedule-title"},"Schedule"),s.a.createElement("div",{className:"schedule-container"},s.a.createElement("h3",{className:"schedule-h3"},"Classes with less than 2 people will be cancelled up to 4 hours before class start time and early morning classes before 10:00 will be cancelled the night before at 20:00"),s.a.createElement("p",null,s.a.createElement("strong",null,"Monday:")," Outdoor Workout of the Day @ 12:15 & Teens Outdoor WOD & 17:30"),s.a.createElement("p",null,s.a.createElement("strong",null,"Tuesday:")," Outdoor Workout of the Day @ 12:15"),s.a.createElement("p",null,s.a.createElement("strong",null,"Wednesday:")," Outdoor Workout of the Day @ 9:00 & Teens Outdoor WOD & 17:30"),s.a.createElement("p",null,s.a.createElement("strong",null,"Thursday:")," Zoom Workout of the Day @ 7:00 & Outdoor Workout of the Day @ 12:15"),s.a.createElement("p",null,s.a.createElement("strong",null,"Friday:")," Outdoor Workout of the Day @ 9:00"),s.a.createElement("p",null,s.a.createElement("strong",null,"Saturday:")," Outdoor Mobility Class @ 10:00 & Outdoor WOD @ 10:30"),s.a.createElement("p",null,s.a.createElement("strong",null,"Sunday:")," Outdoor Workout of the Day @ 10:00"),s.a.createElement("p",null,s.a.createElement("strong",null,"Email"," ",s.a.createElement("a",{href:"mailto:faziztraining@gmail.com"},"faziztraining@gmail.com")," ","if you would like to suggest a new class time")))))}}]),a}(n.Component)),S=a(111),w=a(154);var k=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={currentUser:e.props.currentUser,instaPosts:[],showSchedule:!1},e.toggleShow=function(t){e.setState({showSchedule:t}),e.props.user&&E.a.event({category:"User",action:"".concat(e.props.user.first_name+" "+e.props.user.last_name," checked out the Schedule")})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.initialize("UA-162899429-1"),E.a.pageview("/home"),b.auth().onAuthStateChanged((function(e){e&&t(e)}));var t=function(t){e.setState({currentUser:t}),e.props.setUser(t)};w.profile("faziz_training").then((function(t){e.setState({instaPosts:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.instaPosts,a=t[0]?t.slice(0,8):[];return s.a.createElement(s.a.Fragment,null,s.a.createElement(S.a,null,s.a.createElement("title",null,"WOD-WITH-FARIS"),s.a.createElement("meta",{name:"description",content:"WOD-WITH-FARIS Home Page"}),s.a.createElement("meta",{name:"keywords",content:"wod,with,faris,aziz,crossfit,workout,hiit,bodybuilding,mies,functional,training,outdoor,workout of the day,geneva,switzerland,versoix,coppet,coach,personal trainer,fitness"})),s.a.createElement("button",{onClick:function(){return e.toggleShow(!0)},className:"class-schedule-btn"},"View Class Schedule"),s.a.createElement(y,{show:this.state.showSchedule,toggleShow:this.toggleShow}),s.a.createElement("div",{className:"posts-container"},s.a.createElement("h2",{className:"title"},"Recent Posts"," ",s.a.createElement("a",{className:"title",href:"https://www.instagram.com/faziz_training/"},"@faziz_training")),s.a.createElement("div",{className:"posts-container"},a.map((function(e){return s.a.createElement("a",{href:"https://www.instagram.com/p/".concat(e.node.shortcode,"/")},s.a.createElement("img",{alt:"",id:"insta-post",className:"insta-post",src:e.node.display_url}))})))))}}]),a}(n.Component),N=a(124),O=a(15),j=s.a.createContext();function T(e){var t=e.children,a=Object(n.useState)(null),r=Object(O.a)(a,2),o=r[0],c=r[1];return Object(n.useEffect)((function(){b.auth().onAuthStateChanged(c)}),[]),s.a.createElement(j.Provider,{value:{currentUser:o}},t)}function _(e){var t=e.component,a=Object(N.a)(e,["component"]),r=Object(n.useContext)(j).currentUser;return s.a.createElement(f.b,Object.assign({},a,{render:function(e){return r?s.a.createElement(t,Object.assign({},e,{currentUser:r})):s.a.createElement(f.a,{to:"/login"})}}))}var P=a(20),A=a(19),D=a.n(A),x=a(34),U=(a(104),a(26));var F=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={currentUser:null,email:null,password:null,show:!1,passwordResetEmail:null,emailSent:!1,emailError:!1},e.handlelogin=Object(x.a)(D.a.mark((function t(){var a,n,s;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.email,s=a.password,t.prev=1,t.next=4,b.auth().signInWithEmailAndPassword(n,s);case 4:e.props.setHome(!0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),alert(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])}))),e.toggleShow=function(t){e.setState({show:t})},e.handleChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.handlePasswordResetEmailChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.sendPasswordResetEmail=function(t){e.checkAccount(t).then((function(a){a?b.auth().sendPasswordResetEmail(t).then(e.setState({emailSent:!0,emailError:!1})):e.setState({emailError:!0})}))},e.checkAccount=function(e){return fetch("https://wod-with-faris-backend.herokuapp.com/users/check?email=".concat(e)).then((function(e){return e.json()}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.initialize("UA-162899429-1"),E.a.pageview("/login"),b.auth().onAuthStateChanged((function(e){e&&t(e)}));var t=function(t){e.setState({currentUser:t}),e.props.setUser(t)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentUser,n=t.show,r=t.passwordResetEmail,o=t.emailSent,c=t.emailError;return a?s.a.createElement(f.a,{to:"/"}):s.a.createElement("div",null,s.a.createElement("div",{className:"form-structor"},s.a.createElement("div",{className:"signup"},s.a.createElement("h2",{className:"form-title",id:"signup"},s.a.createElement("span",null,"or"),"Log In"),s.a.createElement("div",{className:"form-holder"},s.a.createElement("input",{onChange:this.handleChange,name:"email",type:"email",className:"input",placeholder:"Email"}),s.a.createElement("input",{onChange:this.handleChange,name:"password",type:"password",className:"input",placeholder:"Password"})),s.a.createElement("button",{onClick:this.handlelogin,className:"submit-btn"},"Log In"),s.a.createElement("h3",{onClick:this.toggleShow,className:"forgot-password"},s.a.createElement("u",null,"Forgot Password")),s.a.createElement(v.a,{position:"centerCenter",open:n,closeBtn:!0,closeOnEsc:!0,onClose:function(){return e.toggleShow(!1)},closeOnOverlay:!0},s.a.createElement("div",{className:"forgot-password-modal-container"},s.a.createElement("h2",{className:"forgot-password-txt"},"Password Reset"),o&&s.a.createElement("p",{className:"email-send-success"},"Email Sent!"),c&&s.a.createElement("p",{className:"email-send-error"},"Sorry, no account matches this email"),s.a.createElement("p",{className:"forgot-password-txt"},"Please enter the email associated with your account:"),s.a.createElement("input",{value:r,onChange:this.handlePasswordResetEmailChange,name:"passwordResetEmail",className:"forgot-password-input",type:"email"}),s.a.createElement("button",{onClick:function(){return e.sendPasswordResetEmail(r)},className:"forgot-password-btn"},"Send Password Reset Email")))),s.a.createElement("div",{className:"login slide-up"},s.a.createElement("div",{className:"center"},s.a.createElement(U.c,{to:"/signup"},s.a.createElement("h2",{className:"form-title",id:"login"},s.a.createElement("span",null,"or"),"Sign Up"))))))}}]),a}(s.a.Component),M=Object(f.f)(F);var R=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={firstName:null,lastName:null,email:null,password:null,passwordConfirm:null,currentUser:null,passwordMatchError:"",emailSent:!1,emptyFieldsError:null},e.handleSignUp=Object(x.a)(D.a.mark((function t(){var a,n,s,r,o,c;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.email,s=a.password,r=a.passwordConfirm,o=a.firstName,c=a.lastName,t.prev=1,s!==r||null===n){t.next=10;break}return t.next=5,b.auth().createUserWithEmailAndPassword(n,s);case 5:e.setState({passwordMatchError:null,emptyFieldsError:null}),fetch("https://wod-with-faris-backend.herokuapp.com/user/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e.state.email,first_name:e.state.firstName,last_name:e.state.lastName,tokens:0,coach:!1})}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),fetch("https://api.pushover.net/1/messages.json",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({token:"adohia1ym9d8bopuvjys6zrgdu4psa",user:"ubujnjnpw22cv58byd8w6kot7yx648",message:"".concat(e.state.firstName+" "+e.state.lastName," signed up!")})}),t.next=11;break;case 10:s&&r&&n&&o&&c?e.setState({passwordMatchError:"Passwords do not match",emptyFieldsError:null}):e.setState({emptyFieldsError:"Please fill all the fields",passwordMatchError:null});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),alert(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])}))),e.handleChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.handleSetUser=function(t){e.setState({currentUser:t})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.initialize("UA-162899429-1"),E.a.pageview("/signup"),b.auth().onAuthStateChanged((function(e){e&&t(e)}));var t=function(t){e.setState({currentUser:t})}}},{key:"render",value:function(){var e=this.state,t=e.currentUser,a=e.emailSent,n=e.passwordMatchError,r=e.emptyFieldsError;if(t){if(t.emailVerified||a)return this.props.setHome(!0),s.a.createElement(f.a,{to:"/"});t.sendEmailVerification(),this.setState({emailSent:!0})}return s.a.createElement("div",null,s.a.createElement("div",{className:"form-structor"},s.a.createElement("div",{className:"signup"},n&&s.a.createElement("p",{className:"sign-up-error"},n),r&&s.a.createElement("p",{className:"sign-up-error"},r),s.a.createElement("h2",{className:"form-title",id:"signup"},s.a.createElement("span",null,"or"),"Sign up"),s.a.createElement("div",{className:"form-holder"},s.a.createElement("form",null,s.a.createElement("input",{onChange:this.handleChange,name:"firstName",type:"text",className:"input",placeholder:"First Name"}),s.a.createElement("input",{onChange:this.handleChange,name:"lastName",type:"text",className:"input",placeholder:"Last Name"}),s.a.createElement("input",{onChange:this.handleChange,name:"email",type:"email",className:"input",placeholder:"Email"}),s.a.createElement("input",{onChange:this.handleChange,name:"password",type:"password",className:"input",placeholder:"Password"}),s.a.createElement("input",{onChange:this.handleChange,name:"passwordConfirm",type:"password",className:"input",placeholder:"Confirm Password"}))),s.a.createElement("button",{onClick:this.handleSignUp,className:"submit-btn"},"Sign up")),s.a.createElement("div",{className:"login slide-up"},s.a.createElement("div",{className:"center"},s.a.createElement(U.c,{to:"/login"},s.a.createElement("h2",{className:"form-title",id:"login"},s.a.createElement("span",null,"or"),"Log in"))))))}}]),a}(s.a.Component),I=Object(f.f)(R),L=a(61),H=a(42),B=a(50),W=a(65),z=a(66);function q(){var e=Object(W.a)(["\n  text-decoration: none;\n  color: hsla(0, 0%, 100%, 0.5);\n  &:focus,\n  &:hover {\n    color: white;\n  }\n  ,\n  &:visited,\n  &:link,\n  &:active {\n    text-decoration: none;\n  }\n"]);return q=function(){return e},e}var J=Object(z.a)(U.b)(q()),G=function(e){return s.a.createElement(J,e)};function Y(){var e=Object(W.a)(["\n  text-decoration: none;\n  color: black;\n  &:focus,\n  &:hover {\n    color: grey;\n  }\n  ,\n  &:visited,\n  &:link,\n  &:active {\n    text-decoration: none;\n  }\n"]);return Y=function(){return e},e}var Q=Object(z.a)(U.b)(Y()),K=function(e){return s.a.createElement(Q,e)},V=a(39),X=localStorage.getItem("prevUrl");function Z(e){var t=Object(n.useState)(null),a=Object(O.a)(t,2),r=(a[0],a[1]);Object(n.useEffect)((function(){r(X||"/")}),[]);var o=function(t){r(t.target.name),"/"===t.target.name?(e.setHome(!0),localStorage.setItem("prevUrl","/")):(localStorage.setItem("prevUrl",t.target.name),e.setHome(!1)),e.userData&&E.a.event({category:"User",action:"".concat(e.userData.first_name+" "+e.userData.last_name," looked at ").concat(t.target.name)})},c=e.currentUser,l=e.userData;return s.a.createElement("div",{className:"nav-bar"},s.a.createElement(L.a,{collapseOnSelect:!0,expand:"lg",bg:"#243b55",variant:"dark"},s.a.createElement(L.a.Brand,null,"WOD-WITH-FARIS"),s.a.createElement(L.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),s.a.createElement(L.a.Collapse,{id:"responsive-navbar-nav"},s.a.createElement(H.a,{className:"mr-auto"},s.a.createElement(H.a.Link,null,s.a.createElement(G,{name:"/",onClick:o,to:"/"},"Home")),s.a.createElement(H.a.Link,null,s.a.createElement(G,{name:"/about",onClick:o,to:"/about"},"About")),c&&s.a.createElement(H.a.Link,null,s.a.createElement(G,{name:"/profile",onClick:o,to:"/profile"},"Profile")),c&&l&&l.coach&&s.a.createElement(s.a.Fragment,null,s.a.createElement(H.a.Link,null,s.a.createElement(G,{name:"/clients",onClick:o,to:"/clients"},"Clients")),s.a.createElement(B.a,{title:"Create",id:"collasible-nav-dropdown"},s.a.createElement(B.a.Item,null,s.a.createElement(K,{name:"/createclass",onClick:o,to:"/createclass"},"Class")),s.a.createElement(B.a.Item,null,s.a.createElement(K,{name:"/createptsession",onClick:o,to:"/createptsession"},"PT Session")))),c&&l&&!l.coach&&s.a.createElement(s.a.Fragment,null,s.a.createElement(B.a,{title:"Classes",id:"collasible-nav-dropdown"},s.a.createElement(B.a.Item,null,s.a.createElement(K,{name:"/classes",onClick:o,to:"/classes"},"Book Class")),s.a.createElement(B.a.Item,null,s.a.createElement(K,{name:"/buypasses",onClick:o,to:"/buypasses"},"Buy Passes"))))),s.a.createElement(H.a,null,c?s.a.createElement(H.a.Link,null,s.a.createElement(V.a,{onClick:e.logout,variant:"secondary"},"Log Out")):s.a.createElement(H.a.Link,null,s.a.createElement(G,{name:"/login",to:"/login"},s.a.createElement(V.a,{variant:"primary",onClick:o},"Log In")))))))}var $=a(23),ee=a.n($),te=(a(55),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={show:!!e.props.oneClass,clients:[],error:null,bookingGif:null},e.toggleShow=function(t){e.setState({show:t,error:null}),e.props.removeSelectedClass()},e.bookingGif=function(t){t?(e.setState({bookingGif:"https://media.giphy.com/media/cOogUoOWsZZ2hAVurb/giphy.gif"}),setTimeout((function(){e.setState({bookingGif:null})}),4e3)):void 0===t&&(e.setState({bookingGif:"https://media.giphy.com/media/hpGAm7uGHsWhi7HVji/giphy.gif"}),setTimeout((function(){e.setState({bookingGif:null})}),4e3))},e.handleBookandUnBookClass=function(t){var a=e.state.clients.find((function(t){return t.user.id===e.props.user.id}));void 0===a&&e.props.user.tokens>0&&e.state.clients.length<e.props.oneClass.class_capacity?(fetch("https://wod-with-faris-backend.herokuapp.com/usersession/book",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user_id:e.props.user.id,session_id:t})}).then((function(e){return e.json()})).then((function(t){return e.setState({clients:t,error:null})})).then(e.props.deductToken).then(e.bookingGif(a)).then(e.props.bookedNotification),fetch("https://api.pushover.net/1/messages.json",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({token:"adohia1ym9d8bopuvjys6zrgdu4psa",user:"ubujnjnpw22cv58byd8w6kot7yx648",sound:"cashregister",message:"".concat(e.props.user.first_name+" "+e.props.user.last_name," booked the ").concat(e.props.oneClass.time," class that's on ").concat(ee()(e.props.oneClass.date,"fullDate"))})})):a&&e.props.user.tokens>=0?(fetch("https://wod-with-faris-backend.herokuapp.com/usersession/unbook",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user_id:e.props.user.id,session_id:t})}).then((function(e){return e.json()})).then((function(t){return e.setState({clients:e.state.clients.filter((function(e){return e.user.id!==t.user.id})),error:null})})).then(e.props.addToken).then(e.bookingGif(a)),fetch("https://api.pushover.net/1/messages.json",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({token:"adohia1ym9d8bopuvjys6zrgdu4psa",user:"ubujnjnpw22cv58byd8w6kot7yx648",message:"".concat(e.props.user.first_name+" "+e.props.user.last_name," unbooked the ").concat(e.props.oneClass.time+" "+e.props.oneClass.name," class that's on ").concat(ee()(e.props.oneClass.date,"fullDate"))})})):e.props.user.tokens<=0?e.setState({error:'Sorry, you have run out of passes. Please buy some more on the "Buy Passes" page.'}):(e.state.clients.length===e.props.oneClass.class_capacity||e.state.clients.length>e.props.oneClass.class_capacity)&&e.setState({error:"Sorry, this class is fully booked"})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://wod-with-faris-backend.herokuapp.com/usersessions?class_id=".concat(this.props.oneClass.id),{}).then((function(e){return e.json()})).then((function(t){return e.setState({clients:t})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.show,n=t.clients,r=t.error,o=t.bookingGif,c=this.props.oneClass,l=!!(n[0]&&this.props.user&&n.find((function(t){return t.user.id===e.props.user.id}))),i=new Date,u=new Date(c.date+"T"+c.time)<i;return s.a.createElement("div",null,s.a.createElement(v.a,{position:"centerCenter",open:a,closeBtn:!0,closeOnEsc:!0,onClose:function(){return e.toggleShow(!1)},closeOnOverlay:!0},s.a.createElement("h1",{className:"workout-title"},c.time+" "+c.name)," ",s.a.createElement("div",{className:"attending-progress-bar"},s.a.createElement("div",{style:{width:"".concat((n.length/c.class_capacity*100>100?100:n.length/c.class_capacity*100).toFixed(2),"px")},className:"inner-progress-bar"},s.a.createElement("span",{className:"attending-txt"},n.length===c.class_capacity?"Fully Booked":n.length+" / ".concat(c.class_capacity)))),s.a.createElement("h3",{className:"coach-name"},s.a.createElement("strong",null,"Coach: "),c.coach.first_name+" "+c.coach.last_name),o?s.a.createElement("img",{className:"book-gif",alt:"",src:o}):c.description.split("\n").map((function(e){return s.a.createElement("p",{className:"desc-txt"},e)})),u?s.a.createElement("button",{class:"past-btn"},"Already Passed"):s.a.createElement("button",{onClick:function(){return e.handleBookandUnBookClass(e.props.oneClass.id)},class:"book-btn"},l?"Cancel":"Book Class"),r&&s.a.createElement("p",{className:"error"},this.state.error)))}}]),a}(n.Component)),ae=a(90),ne=a(46),se=a.n(ne),re=(a(180),a(51));var oe=Object(ae.b)(se.a),ce=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={classes:[],chosenClass:null,user:null,isLoading:!0,screenWidth:window.innerWidth,showClassAttendNotification:!1,attendanceResp:"",ShowLowTokenNotification:!1},e.handleWindowSizeChange=function(){e.setState({screenWidth:window.innerWidth})},e.handleDateChange=function(t){var a;e.setState((a={},Object(P.a)(a,t.target.name,t.target.value),Object(P.a)(a,"isLoading",!0),a)),e.dateFetch(t.target.value)},e.handlePickClass=function(t){var a=e.state.classes.find((function(e){return e.id===t.id}));e.setState({chosenClass:a})},e.deductToken=function(){var t=e.state.user;e.setState({user:{id:t.id,coach:t.coach,first_name:t.first_name,last_name:t.last_name,email:t.email,tokens:t.tokens-1}}),E.a.event({category:"User",action:"".concat(e.state.user.first_name+" "+e.state.user.last_name," Booked a Class")})},e.addToken=function(){var t=e.state.user;e.setState({user:{id:t.id,coach:t.coach,first_name:t.first_name,last_name:t.last_name,email:t.email,tokens:t.tokens+1}}),E.a.event({category:"User",action:"".concat(e.state.user.first_name+" "+e.state.user.last_name," Cancelled a Class")})},e.dateFetch=function(t){fetch("https://wod-with-faris-backend.herokuapp.com/sessions?date=".concat(t)).then((function(e){return e.json()})).then((function(t){return e.setState({classes:t,isLoading:!1})}))},e.formatedClasses=function(e){return e.map((function(e){return{title:e.name,start:se()(e.date+" "+e.time,"YYYY-MM-DD HH:mm").toDate(),end:se()(e.date+" "+e.time,"YYYY-MM-DD HH:mm").add(1,"hours").toDate(),allDay:!1,id:e.id}}))},e.removeSelectedClass=function(){e.setState({chosenClass:null})},e.earliestClassOftheWeek=function(){return e.formatedClasses(e.state.classes).sort((function(e,t){return se()(e.end).format("HH:mm")>se()(t.end).format("HH:mm")?1:se()(e.end).format("HH:mm")<se()(t.end).format("HH:mm")?-1:0}))},e.getPrevWeekAttendances=function(){fetch("https://wod-with-faris-backend.herokuapp.com/usersession/prevsessionsandtokens/".concat(e.state.user.id)).then((function(e){return e.json()})).then((function(e){return t(e)}));var t=function(t){console.log(t);var a=["Let's Go!","Love the energy!","Wohooo!","\ud83d\udcaa\ud83d\udcaa\ud83d\udcaa","Keep the streak going!","Absolute Machine!","Beast!"];1===t.sessions_prev_week?(e.setState({attendanceResp:"1st class this week! Nice Start!"}),e.toggleShowClassAttendNotification(!0)):t.sessions_prev_week>1&&(e.setState({attendanceResp:"Class No.".concat(t.sessions_prev_week," this week! ").concat(a[Math.floor(Math.random()*a.length)])}),e.toggleShowClassAttendNotification(!0)),t.tokens<=1&&e.toggleShowLowTokenNotification()}},e.toggleShowClassAttendNotification=function(t){e.setState({showClassAttendNotification:t})},e.toggleShowLowTokenNotification=function(){e.setState({ShowLowTokenNotification:!e.state.ShowLowTokenNotification})},e}return Object(p.a)(a,[{key:"componentWillMount",value:function(){window.addEventListener("resize",this.handleWindowSizeChange)}},{key:"componentDidMount",value:function(){var e=this;E.a.initialize("UA-162899429-1"),E.a.pageview("/classes"),fetch("https://wod-with-faris-backend.herokuapp.com/sessions").then((function(e){return e.json()})).then((function(t){return e.setState({classes:t,isLoading:!1})})),fetch("https://wod-with-faris-backend.herokuapp.com/user/getuser?email=".concat(this.props.currentUser.email)).then((function(e){return e.json()})).then((function(t){return e.setState({user:t})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.classes,n=t.isLoading,r=t.chosenClass,o=t.screenWidth,c=t.showClassAttendNotification,l=t.attendanceResp,i=t.ShowLowTokenNotification,u=o<=500;return s.a.createElement("div",null,s.a.createElement("div",{"aria-live":"polite","aria-atomic":"true",style:{position:"fixed",minHeight:"200px"}},s.a.createElement("div",{style:{position:"fixed",top:"2%",right:"1%"}},s.a.createElement(re.a,{show:c,onClose:function(){return e.toggleShowClassAttendNotification(!1)}},s.a.createElement(re.a.Header,null,s.a.createElement("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),s.a.createElement("strong",{className:"mr-auto"},"Notification"),s.a.createElement("small",null,"just now")),s.a.createElement(re.a.Body,null,s.a.createElement("h4",{style:{color:"black",fontSize:"15px"}},l))),s.a.createElement(re.a,{show:i,onClose:this.toggleShowLowTokenNotification},s.a.createElement(re.a.Header,null,s.a.createElement("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),s.a.createElement("strong",{className:"mr-auto"},"Notification"),s.a.createElement("small",null,"just now")),s.a.createElement(re.a.Body,null,s.a.createElement("h4",{style:{color:"black",fontSize:"15px"}},"You're running low on tokens ",s.a.createElement("span",{role:"img"},"\ud83d\ude23"),". Time to buy some more!"))))),s.a.createElement("h1",{style:{color:"white"}},"Book Class"),s.a.createElement("div",{className:"container"},s.a.createElement(ae.a,{onSelectEvent:this.handlePickClass,defaultView:u?"day":"week",views:["month","week","day"],localizer:oe,scrollToTime:a[0]&&this.earliestClassOftheWeek()[0].start,events:this.formatedClasses(a),startAccessor:"start",endAccessor:"end",style:{height:600,color:"black",backgroundColor:"white"}}),n&&s.a.createElement("button",{className:"loading"}),a[0]?r&&s.a.createElement(te,{addToken:this.addToken,deductToken:this.deductToken,user:this.state.user,oneClass:r,handlePickClass:this.handlePickClass,removeSelectedClass:this.removeSelectedClass,bookedNotification:this.getPrevWeekAttendances}):!n&&s.a.createElement("h1",{style:{color:"white"}},"No Classes")))}}]),a}(n.Component),le=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleCancelBooking=function(t){fetch("https://wod-with-faris-backend.herokuapp.com/usersession/unbook",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user_id:e.props.user.id,session_id:t})}).then((function(e){return e.json()})).then((function(t){return e.props.handleCancel(t)})).then(e.props.addToken),fetch("https://api.pushover.net/1/messages.json",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({token:"adohia1ym9d8bopuvjys6zrgdu4psa",user:"ubujnjnpw22cv58byd8w6kot7yx648",message:"".concat(e.props.user.first_name+" "+e.props.user.last_name," unbooked the ").concat(e.props.upcomingClass.time+" "+e.props.upcomingClass.name," class that's on ").concat(ee()(e.props.upcomingClass.date,"fullDate"))})})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.upcomingClass;return s.a.createElement("div",{className:"class-card"},s.a.createElement("h2",{className:"card-title"},t.time+" "+t.name),s.a.createElement("p",{className:"card-date"},ee()(t.date,"fullDate")),s.a.createElement("button",{onClick:function(){return e.handleCancelBooking(t.id)},className:"book-btn"},"Cancel"))}}]),a}(n.Component),ie=a(123),ue=a(79),me=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={show:!1,clients:[],askDeleteConfirm:!1,editMode:!1,classDescription:e.props.upcomingClass.description,addClient:!1,allClients:[],clientToAdd:null},e.handleClients=function(t){var a=t[0]&&t.map((function(e){return{label:e.first_name+" "+e.last_name,client:{first_name:e.first_name,last_name:e.last_name,id:e.id}}}));e.setState({allClients:a})},e.handleDeleteClass=function(t){fetch("https://wod-with-faris-backend.herokuapp.com/sessions/deleted/".concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){return e.props.handleCancel(t)}));var a=e.state.clients.map((function(e){return e.user.id}));fetch("https://wod-with-faris-backend.herokuapp.com/sessions/returntokens",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({client_ids:a})}).then(e.setState({askDeleteConfirm:!1}))},e.toggleShow=function(t){e.setState({show:t,tokenError:null})},e.toggleDeleteConfirm=function(){e.setState({askDeleteConfirm:!e.state.askDeleteConfirm})},e.toggleEditMode=function(){e.setState({editMode:!e.state.editMode})},e.handleChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){fetch("https://wod-with-faris-backend.herokuapp.com/sessions/update/".concat(t),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({description:e.state.classDescription})}).then(e.setState({editMode:!1}))},e.toggleAddClient=function(){e.setState({addClient:!e.state.addClient}),fetch("https://wod-with-faris-backend.herokuapp.com/users/index").then((function(e){return e.json()})).then((function(t){return e.handleClients(t)}))},e.handleAddClientOrCancel=function(){e.state.clientToAdd?e.state.clientToAdd&&fetch("https://wod-with-faris-backend.herokuapp.com/usersession/book",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user_id:e.state.clientToAdd.id,session_id:e.props.upcomingClass.id})}).then((function(e){return e.json()})).then(e.setState({clients:[].concat(Object(ie.a)(e.state.clients),[{user:e.state.clientToAdd}]),clientToAdd:null,addClient:null})):e.setState({addClient:!1})},e.handleSetClient=function(t){e.setState({clientToAdd:t.client})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://wod-with-faris-backend.herokuapp.com/usersessions?class_id=".concat(this.props.upcomingClass.id),{}).then((function(e){return e.json()})).then((function(t){return e.setState({clients:t})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.upcomingClass,n=t.coach,r=this.state,o=r.show,c=r.clients,l=r.askDeleteConfirm,i=r.editMode,u=r.classDescription,m=r.addClient,p=r.clientToAdd,h=r.allClients;return s.a.createElement("div",{className:"coach-class-card"},s.a.createElement("h2",{className:"card-title"},a.time+" "+a.name),s.a.createElement("p",{className:"card-date"},ee()(a.date,"fullDate")),l?s.a.createElement("div",null," ",s.a.createElement("button",{onClick:function(){return e.handleDeleteClass(a.id)},className:"book-btn"},"Confirm Delete")," ",s.a.createElement("button",{onClick:this.toggleDeleteConfirm,className:"book-btn"},"Cancel Delete")," "):s.a.createElement("button",{onClick:this.toggleDeleteConfirm,className:"book-btn"},"Delete Class"),l?void 0:s.a.createElement("button",{onClick:function(){return e.toggleShow(!0)},className:"book-btn"},"More Info"),s.a.createElement(v.a,{position:"centerCenter",open:o,closeBtn:!0,closeOnEsc:!0,onClose:function(){return e.toggleShow(!1)},closeOnOverlay:!0},s.a.createElement("h1",{className:"workout-title"},a.time+" "+a.name)," ",s.a.createElement("div",{className:"attending-progress-bar"},s.a.createElement("div",{style:{width:"".concat((c.length/a.class_capacity*100>100?100:c.length/a.class_capacity*100).toFixed(2),"px")},className:"inner-progress-bar"},s.a.createElement("span",{className:"attending-txt"},8===c.length?"Fully Booked":c.length+" / ".concat(a.class_capacity)))),s.a.createElement("h3",{className:"desc-txt"},s.a.createElement("strong",null,"Coach: "),n.first_name+" "+n.last_name),i?s.a.createElement("textarea",{className:"edit-desc",value:u,onChange:this.handleChange,name:"classDescription"}):u.split("\n").map((function(e){return s.a.createElement("p",{className:"desc-txt"},e)})),s.a.createElement("div",null,i?s.a.createElement("button",{className:"book-btn",onClick:function(){return e.handleSubmit(a.id)}},"Submit"):s.a.createElement("button",{className:"book-btn",onClick:this.toggleEditMode},"Edit Workout"),s.a.createElement("h3",{className:"desc-txt"},"Signed  Up Clients"),c.map((function(e){return s.a.createElement("p",{className:"desc-txt"},"- ",e.user.first_name+" "+e.user.last_name)})),!c[0]&&s.a.createElement("p",{className:"desc-txt"},"None"),m?s.a.createElement(s.a.Fragment,null,s.a.createElement(ue.a,{className:"activity-input",options:h,onChange:this.handleSetClient})," ",s.a.createElement("button",{className:"book-btn",onClick:this.handleAddClientOrCancel},p?"Submit":"Cancel")):s.a.createElement("button",{className:"book-btn",onClick:this.toggleAddClient},"Add Client"))))}}]),a}(n.Component),pe=(a(181),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.upcomingClasses,n=e.handleCancel,r=e.user,o=e.toggleShow,c=a[0]?a.sort((function(e,t){return new Date(e.date+" "+e.time)-new Date(t.date+" "+t.time)})):a;return s.a.createElement("div",null,s.a.createElement(v.a,{position:"centerCenter",open:t,closeBtn:!0,closeOnEsc:!0,onClose:function(){return o(!1)},closeOnOverlay:!0},s.a.createElement("div",{className:"all-upcoming-classes-container"},s.a.createElement("h1",{className:"header"},"All Upcoming Classes"),c.map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(me,{handleCancel:n,user:r,coach:e.coach,upcomingClass:e.class}))})))))}}]),a}(n.Component)),he=a(78),de=a(21),fe={iconStyle:"solid",hidePostalCode:!0,style:{base:{iconColor:"rgb(240, 57, 122)",color:"rgb(240, 57, 122)",fontSize:"16px",fontFamily:'"Open Sans", sans-serif',fontSmoothing:"antialiased","::placeholder":{color:"#CFD7DF"}},invalid:{color:"#e5424d",":focus":{color:"#303238"}}}};var Ee=function(){return s.a.createElement(de.CardElement,{options:fe})},ge=(a(105),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={name:"",paymentSuccess:!1,paymentError:null,paymentPending:!1},e.handleNameChange=function(t){e.setState({name:t.target.value})},e.handleSubmit=function(){var t=Object(x.a)(D.a.mark((function t(a){var n,s,r,o,c,l;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({paymentPending:!0}),a.preventDefault(),n=e.props,s=n.stripe,r=n.elements,s&&r){t.next=5;break}return t.abrupt("return");case 5:return o=r.getElement(de.CardElement),t.next=8,s.createToken(o);case 8:(c=t.sent).error?window.alert(c.error.message):(l=e.props.upcomingPTSession,fetch("https://wod-with-faris-backend.herokuapp.com/users/payforptsession",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({price:l.price,description:"Personal Training Session",token:c.token.id})}).then((function(e){return e.json()})).then((function(t){return e.cardPayment(t.client_secret)})));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.cardPayment=function(){var t=Object(x.a)(D.a.mark((function t(a){var n,s,r,o,c,l;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,s=n.stripe,r=n.elements,o=e.state.name,t.next=4,s.confirmCardPayment(a,{payment_method:{card:r.getElement(de.CardElement),billing_details:{name:o}}});case 4:(c=t.sent).error?e.setState({paymentPending:!1,paymentError:c.error.message}):"succeeded"===c.paymentIntent.status&&(e.setState({paymentPending:!1,paymentSuccess:!0,paymentError:null}),e.props.handlePaid(),l=e.props.upcomingPTSession,fetch("https://wod-with-faris-backend.herokuapp.com/ptsessions/confirmptsession",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({pt_session:l.id})}).then(setTimeout((function(){e.setState({paymentSuccess:!1})}),6e3)),fetch("https://api.pushover.net/1/messages.json",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({token:"adohia1ym9d8bopuvjys6zrgdu4psa",user:"ubujnjnpw22cv58byd8w6kot7yx648",sound:"cashregister",message:"".concat(e.state.name," paid CHF").concat(e.props.upcomingPTSession.price," and confirmed the Personal Training that is on ").concat(ee()(e.props.upcomingPTSession.date,"fullDate")," at ").concat(e.props.upcomingPTSession.time)})}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.upcomingPTSession,t=this.state,a=t.name,n=t.paymentSuccess,r=t.paymentError,o=t.paymentPending;return s.a.createElement("div",null,s.a.createElement("div",{className:"checkout-form"},n&&s.a.createElement("p",{className:"payment-success"},"Payment Successful"),r&&s.a.createElement("p",{className:"payment-error"},"Error: ",r),n?s.a.createElement("h1",{className:"payment-success"},"Thank you! Your PT Session has been confirmed!"):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{class:"product-info"},s.a.createElement("h4",{className:"product-price"},"Total: CHF ",e.price)),s.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},s.a.createElement("input",{className:"name-card-input",required:!0,value:a,onChange:this.handleNameChange,type:"text",placeholder:"Full Name as displayed on card"}),s.a.createElement(Ee,null),o?s.a.createElement("button",{className:"loading-spinner"}," "):s.a.createElement("button",{className:"btn-pay"},"Pay")))))}}]),a}(n.Component)),be=(a(182),Object(he.a)("pk_live_4g3t1ZRoe5slZQbs5Vy3IaGe00fOR9THIq")),Ce=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={show:!1,paid:e.props.upcomingPTSession.paid},e.toggleShow=function(t){e.setState({show:t})},e.handlePaid=function(){e.setState({paid:!0})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.upcomingPTSession,n=t.user,r=this.state,o=r.show,c=r.paid;return s.a.createElement("div",{className:"class-card"},s.a.createElement("h2",{className:"card-title"},a.time+" "+a.name),s.a.createElement("p",{className:"card-date"},ee()(a.date,"fullDate")),s.a.createElement("button",{onClick:function(){return e.toggleShow(!0)},className:"book-btn"},c?"Confirmed!":"Confirm"),s.a.createElement(v.a,{position:"centerCenter",open:o,closeBtn:!0,closeOnEsc:!0,onClose:function(){return e.toggleShow(!1)},closeOnOverlay:!0},s.a.createElement("div",{className:"pt-session-modal"},s.a.createElement("h1",{className:"pt-modal-title"},a.time+" "+a.name),s.a.createElement("div",{className:"pt-paid-status"},s.a.createElement("p",{style:{textAlign:"center"}},"Status: ",s.a.createElement("p",{style:c?{color:"green"}:{color:"red"}},c?"Paid":"Not Paid"))),s.a.createElement("h3",{className:"desc-txt"},s.a.createElement("strong",null,"Location: "),a.location),a.description.split("\n").map((function(e){return s.a.createElement("p",{className:"desc-txt"},e)})),!c&&s.a.createElement(de.Elements,{stripe:be},s.a.createElement(de.ElementsConsumer,null,(function(t){var r=t.stripe,o=t.elements;return s.a.createElement(ge,{handlePaid:e.handlePaid,userEmail:n.email,upcomingPTSession:a,stripe:r,elements:o})}))))))}}]),a}(n.Component),ve=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={show:!1,askDeleteConfirm:!1,editMode:!1,ptDescription:e.props.upcomingPTSession.description,ptLocation:e.props.upcomingPTSession.location,ptTime:e.props.upcomingPTSession.time,ptDate:e.props.upcomingPTSession.date,ptPrice:e.props.upcomingPTSession.price},e.handleDeletePTSession=function(t){fetch("https://wod-with-faris-backend.herokuapp.com/ptsessions/delete/".concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){return e.handleDeletedBooking(t)}))},e.handleDeletedBooking=function(t){e.props.handleCancel(t),e.setState({askDeleteConfirm:!1})},e.toggleShow=function(t){e.setState({show:t})},e.toggleDeleteConfirm=function(){e.setState({askDeleteConfirm:!e.state.askDeleteConfirm})},e.toggleEditMode=function(){e.setState({editMode:!e.state.editMode})},e.handleChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){fetch("https://wod-with-faris-backend.herokuapp.com/ptsessions/update/".concat(t),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({description:e.state.ptDescription,location:e.state.ptLocation,time:e.state.ptTime,date:e.state.ptDate,price:parseInt(e.state.ptPrice)})}).then(e.setState({editMode:!1}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.upcomingPTSession,n=t.client,r=this.state,o=r.show,c=r.askDeleteConfirm,l=r.editMode,i=r.ptDescription,u=r.ptLocation,m=r.ptTime,p=r.ptDate,h=r.ptPrice;return s.a.createElement("div",{className:"coach-class-card"},s.a.createElement("h2",{className:"card-title"},a.time+" "+a.name),s.a.createElement("p",{className:"card-date"},ee()(a.date,"fullDate")),c?s.a.createElement("div",null," ",s.a.createElement("button",{onClick:function(){return e.handleDeletePTSession(a.id)},className:"book-btn"},"Confirm Delete")," ",s.a.createElement("button",{onClick:this.toggleDeleteConfirm,className:"book-btn"},"Cancel Delete")," "):s.a.createElement("button",{onClick:this.toggleDeleteConfirm,className:"book-btn"},"Delete Class"),c?void 0:s.a.createElement("button",{onClick:function(){return e.toggleShow(!0)},className:"book-btn"},"More Info"),s.a.createElement(v.a,{position:"centerCenter",open:o,closeBtn:!0,closeOnEsc:!0,onClose:function(){return e.toggleShow(!1)},closeOnOverlay:!0},s.a.createElement("h1",{className:"workout-title"},a.time+" "+a.name),s.a.createElement("div",null,s.a.createElement("p",{style:{textAlign:"center",color:"black"}},"Status: ",s.a.createElement("p",{style:a.paid?{color:"green"}:{color:"red"}},a.paid?"Paid":"Not Paid"))),s.a.createElement("h3",{className:"desc-txt"},"Client: ",n.first_name+" "+n.last_name),s.a.createElement("h3",{className:"desc-txt"},"Price: CHF ",l?s.a.createElement("input",{type:"number",name:"ptPrice",value:h,onChange:this.handleChange}):h),s.a.createElement("h3",{className:"desc-txt"},"Location: ",l?s.a.createElement("input",{type:"text",name:"ptLocation",value:u,onChange:this.handleChange}):u),s.a.createElement("h3",{className:"desc-txt"},"Date: ",l?s.a.createElement("input",{type:"date",name:"ptDate",value:p,onChange:this.handleChange}):ee()(p,"fullDate")),s.a.createElement("h3",{className:"desc-txt"},"Time: ",l?s.a.createElement("input",{type:"time",name:"ptTime",value:m,onChange:this.handleChange}):m),l?s.a.createElement("textarea",{className:"edit-desc",value:i,onChange:this.handleChange,name:"ptDescription"}):i.split("\n").map((function(e){return s.a.createElement("p",{className:"desc-txt"},e)})),s.a.createElement("div",null,l?s.a.createElement("button",{className:"book-btn",onClick:function(){return e.handleSubmit(a.id)}},"Submit"):s.a.createElement("button",{className:"book-btn",onClick:this.toggleEditMode},"Edit Workout"))))}}]),a}(n.Component),ye=a(37);a(183);function Se(e){var t=Object(n.useState)(null),a=Object(O.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)([]),l=Object(O.a)(c,2),i=l[0],u=l[1],m=Object(n.useState)([]),p=Object(O.a)(m,2),h=p[0],d=p[1],f=Object(n.useState)(!1),g=Object(O.a)(f,2),b=g[0],C=g[1];Object(n.useEffect)((function(){E.a.initialize("UA-162899429-1"),E.a.pageview("/profile"),fetch("https://wod-with-faris-backend.herokuapp.com/user/getuser?email=".concat(e.currentUser.email)).then((function(e){return e.json()})).then((function(e){return y(e)})),fetch("https://wod-with-faris-backend.herokuapp.com/usersession/upcomingclasses?email=".concat(e.currentUser.email)).then((function(e){return e.json()})).then((function(e){return v(e)}))}),[e.currentUser.email]);var v=function(e){u(e.classes),d(e.ptsessions)},y=function(e){o(e)},S=function(){var e={id:r.id,coach:r.coach,first_name:r.first_name,last_name:r.last_name,email:r.email,tokens:r.tokens+1};o(e)},w=function(e){u(i.filter((function(t){return t.class.id!==e.session.id})))},k=function(e){u(i.filter((function(t){return t.class.id!==e.id})))},N=function(e){d(h.filter((function(t){return t.ptsession.id!==e.id})))},j=function(e){C(e)},T=i[0]?i[0].class?i.sort((function(e,t){return new Date(e.class.date+"T"+e.class.time)-new Date(t.class.date+"T"+t.class.time)})):i.sort((function(e,t){return new Date(e.date+"T"+e.time)-new Date(t.date+"T"+t.time)})):i,_=h[0]?h[0].ptsession?h.sort((function(e,t){return new Date(e.ptsession.date+" "+e.ptsession.time)-new Date(t.ptsession.date+" "+t.ptsession.time)})):h.sort((function(e,t){return new Date(e.date+" "+e.time)-new Date(t.date+" "+t.time)})):h,P=T&&T.sort((function(e,t){return new Date(e.date)-new Date(t.date)})),A=_&&_.sort((function(e,t){return new Date(e.date)-new Date(t.date)})),D=P&&P.slice(0,2),x=A&&A.slice(0,2);return s.a.createElement("div",null,s.a.createElement("div",{className:"profile-container"},r?s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:"name-h1"},r.first_name+" "+r.last_name),!r.coach&&s.a.createElement(V.a,{style:{display:"block",marginLeft:"auto",marginRight:"auto"},variant:r.tokens>1?"primary":"danger"},"Class Passes ",s.a.createElement(ye.a,{variant:"light"},r.tokens),s.a.createElement("span",{className:"sr-only"},"class passes")),s.a.createElement("div",{className:"upcoming-classes-container"},s.a.createElement("div",null,s.a.createElement("h2",{className:"upcoming-classes-title"},"Upcoming Classes: "),!r.coach&&i[0]&&D.map((function(e){return s.a.createElement(le,{handleCancel:w,addToken:S,user:r,upcomingClass:e.class})})),r.coach&&i[0]&&s.a.createElement("button",{onClick:function(){return j(!0)},className:"all-upcoming-classes-btn"},"All upcoming classes"),b&&s.a.createElement(pe,{toggleShow:j,handleCancel:k,user:r,show:b,upcomingClasses:P}),r.coach&&i[0]&&D.map((function(e){return s.a.createElement(me,{handleCancel:k,user:r,coach:e.coach,upcomingClass:e.class})})),!i[0]&&s.a.createElement("h3",{className:"none"},"None")),s.a.createElement("div",{className:"upcoming-pt-sessions"},s.a.createElement("h2",{className:"upcoming-classes-title"},"Upcoming PT Sessions:"," "),!r.coach&&h[0]&&x.map((function(e){return s.a.createElement(Ce,{user:r,upcomingPTSession:e})})),r.coach&&h[0]&&x.map((function(e){return s.a.createElement(ve,{handleCancel:N,user:r,upcomingPTSession:e.ptsession,client:e.user})}))),!h[0]&&s.a.createElement("h3",{className:"none"},"None"))):s.a.createElement("button",{className:"loading"})))}a(106);var we=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={name:null,description:null,date:null,time:null,classCapacity:8,coach:null,success:!1,errorMessage:null},e.handleChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.handleCreateClass=function(){var t=e.state,a=t.name,n=t.description,s=t.date,r=t.time,o=t.coach,c=t.classCapacity;a&&n&&s&&r&&c?fetch("https://wod-with-faris-backend.herokuapp.com/sessions/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:a,description:n,date:s,time:r,class_capacity:parseInt(c),user_id:o.id})}).then((function(e){return e.json()})).then(e.setState({success:!0,errorMessage:null,name:"",description:"",date:"",time:""})).catch((function(t){return e.setState({errorMessage:t})})):e.setState({errorMessage:"Please fill all fields"})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://wod-with-faris-backend.herokuapp.com/user/getuser?email=".concat(this.props.currentUser.email)).then((function(e){return e.json()})).then((function(t){return e.setState({coach:t})}))}},{key:"render",value:function(){var e=this.state,t=e.success,a=e.errorMessage,n=e.name,r=e.date,o=e.description,c=e.time,l=e.classCapacity;return s.a.createElement("div",null,s.a.createElement("h1",{className:"create-class-title"},"Create Class"),t&&s.a.createElement("h2",{className:"success"},"Class Created!"),a&&s.a.createElement("h2",{className:"error-message"},a),s.a.createElement("div",{className:"create-class-div"},s.a.createElement("h3",{className:"create-class-h3"},"Name"),s.a.createElement("input",{name:"name",value:n,onChange:this.handleChange,className:"create-class-input",type:"text"}),s.a.createElement("h3",{className:"create-class-h3"},"Description"),s.a.createElement("textarea",{name:"description",value:o,onChange:this.handleChange,className:"create-class-textarea"}),s.a.createElement("h3",{className:"create-class-h3"},"Date"),s.a.createElement("input",{name:"date",value:r,onChange:this.handleChange,className:"create-class-input",type:"date"}),s.a.createElement("h3",{className:"create-class-h3"},"Time"),s.a.createElement("input",{name:"time",value:c,onChange:this.handleChange,className:"create-class-input",type:"time"}),s.a.createElement("h3",{className:"create-class-h3"},"Class Capacity"),s.a.createElement("input",{name:"classCapacity",value:l,onChange:this.handleChange,className:"create-class-input",type:"number"}),s.a.createElement("button",{className:"create-class-btn",onClick:this.handleCreateClass},"Create Class")))}}]),a}(n.Component),ke=(a(107),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={show:!1,editMode:!1,email:e.props.client.email,tokens:e.props.client.tokens},e.toggleShow=function(t){e.setState({show:t})},e.toggleEditMode=function(){e.setState({editMode:!0})},e.handleChange=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.submitEdit=function(t){fetch("https://wod-with-faris-backend.herokuapp.com/user/update/".concat(t),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e.state.email,tokens:e.state.tokens})}).then(e.setState({editMode:!1}))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.client,a=this.state,n=a.show,r=a.email,o=a.tokens,c=a.editMode;return s.a.createElement("div",null,s.a.createElement("h3",{onClick:this.toggleShow,className:o<=1?"low-on-tokens-client":"client"},t.first_name+" "+t.last_name),s.a.createElement(v.a,{position:"centerCenter",open:n,closeBtn:!0,closeOnEsc:!0,onClose:function(){return e.toggleShow(!1)},closeOnOverlay:!0},s.a.createElement("div",{className:"client-modal-container"},s.a.createElement("h3",{className:"client-txt"},t.first_name+" "+t.last_name),s.a.createElement("p",{className:"client-txt"},"Email: ")," ",c?s.a.createElement("input",{onChange:this.handleChange,className:"edit-input",value:r,name:"email"}):s.a.createElement("p",{className:"client-txt"},r),s.a.createElement("p",{className:"client-txt"},"Class Passes: ")," ",c?s.a.createElement("input",{onChange:this.handleChange,className:"edit-input",type:"number",value:o,name:"tokens"}):s.a.createElement("p",{className:"client-txt"},o),c?s.a.createElement("button",{onClick:function(){return e.submitEdit(t.id)},className:"edit-btn"},"Submit"):s.a.createElement("button",{onClick:this.toggleEditMode,className:"edit-btn"},"Edit"))))}}]),a}(n.Component)),Ne=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={search:null,allClients:[]},e.handleSearch=function(t){var a=t.target.value;a.length>0?e.setState({search:a}):0===a.length&&e.setState({search:null})},e.fuzzyMatch=function(e,t){if(0===t.length)return 1;for(var a=e.toLowerCase(),n=t.toLowerCase(),s=0,r=0;r<n.length;r++)a.indexOf(n[r])>-1?s+=1:s-=1;return s/e.length},e.sortSearch=function(t){var a=t.map((function(t){return[t,e.fuzzyMatch(t.first_name+" "+t.last_name,e.state.search)]}));return a.sort((function(e,t){return t[1]-e[1]})),a.filter((function(e){return e[1]>0}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://wod-with-faris-backend.herokuapp.com/users/index").then((function(e){return e.json()})).then((function(t){return e.setState({allClients:t})}))}},{key:"render",value:function(){var e=this.state,t=e.allClients,a=e.search,n=t.sort((function(e,t){return e.last_name.localeCompare(t.last_name)})),r=a?this.sortSearch(t):n;return s.a.createElement("div",null,s.a.createElement("h1",null,"Clients"),s.a.createElement("input",{className:"search-bar",onChange:this.handleSearch,name:"search",type:"text"}),s.a.createElement("div",{className:"clients-container"},t&&t[0]&&r.map((function(e){return s.a.createElement(ke,{client:a?e[0]:e})})),t&&!t[0]&&s.a.createElement("h2",null,"None")))}}]),a}(n.Component),Oe=(a(184),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={name:"",paymentSuccess:!1,paymentError:null,paymentPending:!1},e.handleNameChange=function(t){e.setState({name:t.target.value})},e.handleSubmit=function(){var t=Object(x.a)(D.a.mark((function t(a){var n,s,r,o,c,l;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({paymentPending:!0}),a.preventDefault(),n=e.props,s=n.stripe,r=n.elements,s&&r){t.next=5;break}return t.abrupt("return");case 5:return o=r.getElement(de.CardElement),t.next=8,s.createToken(o);case 8:(c=t.sent).error?(window.alert(c.error.message),e.setState({paymentPending:!1})):(l=e.props.quantity,fetch("https://wod-with-faris-backend.herokuapp.com/users/buyclasspasses",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({quantity:l,description:"".concat(l,"X Class Passes"),token:c.token.id})}).then((function(e){return e.json()})).then((function(t){return e.cardPayment(t.client_secret)})));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.cardPayment=function(){var t=Object(x.a)(D.a.mark((function t(a){var n,s,r,o,c,l,i,u;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,s=n.stripe,r=n.elements,o=e.state.name,t.next=4,s.confirmCardPayment(a,{payment_method:{card:r.getElement(de.CardElement),billing_details:{name:o}}});case 4:(c=t.sent).error?e.setState({paymentPending:!1,paymentError:c.error.message}):"succeeded"===c.paymentIntent.status&&(e.setState({paymentPending:!1,paymentSuccess:!0,paymentError:null}),l=e.props,i=l.quantity,u=l.userEmail,fetch("https://wod-with-faris-backend.herokuapp.com/users/addclasspasses",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({quantity:i,user_email:u})}).then(setTimeout((function(){e.setState({paymentSuccess:!1}),e.props.toggleShow(!1),e.props.resetQuantity()}),6e3)),fetch("https://api.pushover.net/1/messages.json",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({token:"adohia1ym9d8bopuvjys6zrgdu4psa",user:"ubujnjnpw22cv58byd8w6kot7yx648",sound:"cashregister",message:"".concat(e.state.name," purchased ").concat(e.props.quantity,"X class passes")})}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.toggleShow,n=e.quantity,r=this.state,o=r.name,c=r.paymentSuccess,l=r.paymentError,i=r.paymentPending;return s.a.createElement("div",null,s.a.createElement(v.a,{position:"centerCenter",open:t,closeBtn:!0,closeOnEsc:!1,onClose:function(){return a(!1)},closeOnOverlay:!1},s.a.createElement("div",{className:"checkout-form"},c&&s.a.createElement("p",{className:"payment-success"},"Payment Successful"),l&&s.a.createElement("p",{className:"payment-error"},"Error: ",l),c?s.a.createElement("h1",{className:"payment-success"},"Thank you! ",this.props.quantity,"X Class Passes have been added to your account!"):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{class:"product-info"},s.a.createElement("h3",{className:"product-title"},1===n?"1X Class Pass":n+"X Class Passes"),s.a.createElement("h4",{className:"product-price"},"Total: CHF ",10*n)),s.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},s.a.createElement("input",{className:"name-card-input",required:!0,value:o,onChange:this.handleNameChange,type:"text",placeholder:"Full Name as displayed on card"}),s.a.createElement(Ee,null),i?s.a.createElement("button",{className:"loading-spinner"}," "):s.a.createElement("button",{className:"btn-pay"},"Buy Now"))))))}}]),a}(n.Component)),je=Object(he.a)("pk_live_4g3t1ZRoe5slZQbs5Vy3IaGe00fOR9THIq"),Te=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={quantity:0,purchaseAmountLimit:!1,show:!1},e.handleQuantityChange=function(t){var a=e.state.quantity;a>0&&a<5?e.setState({quantity:a+t,purchaseAmountLimit:!1}):0===a&&1===t?e.setState({quantity:1,purchaseAmountLimit:!1}):5===a&&-1===t?e.setState({quantity:a+t,purchaseAmountLimit:!1}):5===a&&e.setState({purchaseAmountLimit:!0}),E.a.event({category:"User",action:"".concat(t,"X classes was added to the cart.")})},e.resetQuantity=function(){e.setState({quantity:0})},e.toggleShow=function(t){e.state.quantity>0?e.setState({show:t}):0===e.state.quantity&&window.alert("Quantity of class passes must be more than 0"),E.a.event({category:"User",action:"Checkout button was hit"})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.quantity,n=t.purchaseAmountLimit;return s.a.createElement("div",null,s.a.createElement("h1",null,"Buy Passes"),s.a.createElement("div",{className:"purchase-box"},s.a.createElement("div",null,s.a.createElement("h1",{className:"quantity-title"},"Class Passes"),n&&s.a.createElement("p",{className:"limit"},"Purchase limit is 5 classes"),s.a.createElement("h1",{className:"quantity"},a),s.a.createElement("div",{className:"buttons-container"},s.a.createElement("button",{className:"quantity-btn",onClick:function(){return e.handleQuantityChange(-1)}},"-"),s.a.createElement("button",{className:"quantity-btn",onClick:function(){return e.handleQuantityChange(1)}},"+")),s.a.createElement("h1",{className:"total"},"Total: CHF ",10*a),s.a.createElement("button",{onClick:function(){return e.toggleShow(!0)},className:"checkout-btn"},"Checkout"),s.a.createElement(de.Elements,{stripe:je},s.a.createElement(de.ElementsConsumer,null,(function(t){var n=t.stripe,r=t.elements;return s.a.createElement(Oe,{resetQuantity:e.resetQuantity,userEmail:e.props.currentUser.email,show:e.state.show,toggleShow:e.toggleShow,quantity:a,stripe:n,elements:r})}))))))}}]),a}(n.Component);a(108);function _e(e){var t=e.stat,a=t.user,n=t.attendances_and_activities,r=t.calories_burned;return s.a.createElement("tr",{className:"leaderboard-stat",style:e.highestNoOfAttendances===n?{color:"white",backgroundColor:"green"}:null},s.a.createElement("td",null,a),s.a.createElement("td",null,n),s.a.createElement("td",null,"~",r," Cal."))}function Pe(){Object(n.useEffect)((function(){fetch("https://wod-with-faris-backend.herokuapp.com/users/getallattendances").then((function(e){return e.json()})).then((function(e){return u(e)}))}),[]);var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!0),c=Object(O.a)(o,2),l=c[0],i=c[1],u=function(e){r(e),i(!1)},m=a[0]&&a.sort((function(e,t){return t.attendances_and_activities-e.attendances_and_activities})),p=a[0]&&a.map((function(e){return e.attendances_and_activities})),h=Math.max.apply(Math,p);return s.a.createElement("div",null,s.a.createElement("h1",{style:{color:"white"}},"Leaderboard"),s.a.createElement("div",{className:"stats-container"},s.a.createElement("table",{className:"leaderboard-table"},s.a.createElement("tr",null,s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Classes"),s.a.createElement("th",null,"Cal. Burned")),m&&m.map((function(e){return s.a.createElement(_e,{stat:e,highestNoOfAttendances:h})}))),l&&s.a.createElement("div",{className:"loading-btn-div"},s.a.createElement("button",{className:"loading"}))))}function Ae(e){var t=Object(n.useState)(null),a=Object(O.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(null),l=Object(O.a)(c,2),i=l[0],u=l[1],m=Object(n.useState)(null),p=Object(O.a)(m,2),h=p[0],d=p[1],f=Object(n.useState)(null),E=Object(O.a)(f,2),g=E[0],b=E[1],C=Object(n.useState)(null),v=Object(O.a)(C,2),y=v[0],S=v[1],w=Object(n.useState)(null),k=Object(O.a)(w,2),N=k[0],j=k[1],T=Object(n.useState)(!1),_=Object(O.a)(T,2),P=_[0],A=_[1],D=Object(n.useState)(!1),x=Object(O.a)(D,2),U=x[0],F=x[1],M=Object(n.useState)([]),R=Object(O.a)(M,2),I=R[0],L=R[1],H=Object(n.useState)(50),B=Object(O.a)(H,2),W=B[0],z=B[1];Object(n.useEffect)((function(){fetch("https://wod-with-faris-backend.herokuapp.com/users/index").then((function(e){return e.json()})).then((function(e){return J(e)}))}),[]);var q=function(){F("PT Session Created!"),A(""),o(""),b(""),S(""),j(""),d(""),u(""),z("")},J=function(e){var t=e[0]&&e.map((function(e){return{label:e.first_name+" "+e.last_name,email:e.email}}));L(t)};return s.a.createElement("div",null,s.a.createElement("h1",{className:"create-class-title"},"Create PT Session"),U&&s.a.createElement("h2",{className:"success"},"PT Session Created!"),P&&s.a.createElement("h2",{className:"error-message"},P),s.a.createElement("div",{className:"create-class-div"},s.a.createElement("h3",{className:"create-class-h3"},"Name"),s.a.createElement("input",{name:"name",value:r,onChange:function(e){return o(e.target.value)},className:"create-class-input",type:"text"}),s.a.createElement("h3",{className:"create-class-h3"},"Description"),s.a.createElement("textarea",{name:"description",value:g,onChange:function(e){return b(e.target.value)},className:"create-class-textarea"}),s.a.createElement("h3",{className:"create-class-h3"},"Date"),s.a.createElement("input",{name:"date",value:y,onChange:function(e){return S(e.target.value)},className:"create-class-input",type:"date"}),s.a.createElement("h3",{className:"create-class-h3"},"Time"),s.a.createElement("input",{name:"time",onChange:function(e){return j(e.target.value)},className:"create-class-input",type:"time"}),s.a.createElement("h3",{className:"create-class-h3"},"Location"),s.a.createElement("input",{name:"location",value:i,onChange:function(e){return u(e.target.value)},className:"create-class-input",type:"text"}),s.a.createElement("h3",{className:"create-class-h3"},"Price (CHF)"),s.a.createElement("input",{name:"price",value:W,onChange:function(e){return z(e.target.value)},className:"create-class-input",type:"number"}),s.a.createElement("h3",{className:"create-class-h3"},"Client"),s.a.createElement(ue.a,{className:"client-select-input",options:I,onChange:function(e){d(e.email)}}),s.a.createElement("button",{className:"create-pt-session-btn",onClick:function(){r&&g&&y&&N&&h&&i&&W?fetch("https://wod-with-faris-backend.herokuapp.com/ptsessions/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:r,description:g,date:y,time:N,location:i,paid:!1,price:parseInt(W),coach_email:e.currentUser.email,client_email:h})}).then((function(e){return e.json()})).then(q).catch((function(e){return A(e)})):A("Please fill all fields")}},"Create PT Session")))}var De=a(122),xe=a(89),Ue=a(119),Fe=a.n(Ue),Me=a(120),Re=a.n(Me),Ie=a(121),Le=a.n(Ie);a(185);function He(){return s.a.createElement("div",null,s.a.createElement("h1",null,"About"),s.a.createElement(De.a,{fluid:!0},s.a.createElement("p",{className:"about-txt"},"WOD-WITH-FARIS was created with the sole purpose of making high quality fitness coaching easily accesible to the masses. Workouts are designed for athletes of all levels and from all backgrounds. They are scalable and adjustable to any injury and the inclusion or exclusion of equipment. The W-W-F program is fashioned to increase atheltic perfomance (power, speed, endurance & stength) along with help improve general health and quality of life."),s.a.createElement(xe.a,{className:"about-main-img",src:Re.a,fluid:!0}),s.a.createElement("h2",{className:"about-team-heading"},"The Team"),s.a.createElement(xe.a,{className:"about-team-img",src:Fe.a,thumbnail:!0}),s.a.createElement("h3",{className:"about-team-heading-2"},"Founder and Coach: Faris Aziz"),s.a.createElement(V.a,{className:"contact-button",variant:"primary"},s.a.createElement("a",{className:"contact-button",href:Le.a},"Contact")),s.a.createElement("h2",{className:"about-team-heading"},"Qualifications:"),s.a.createElement("p",{className:"qualifications-txt"},"- CrossFit Level 2 Trainer"),s.a.createElement("p",{className:"qualifications-txt"},"- CrossFit Level 1 Trainer"),s.a.createElement("p",{className:"qualifications-txt"},"- CrossFit Scaling Certificate"),s.a.createElement("p",{className:"qualifications-txt"},"- CrossFit Spot the Flaw Certificate"),s.a.createElement("p",{className:"qualifications-txt"},"- CrossFit Lesson Planning Certificate"),s.a.createElement("p",{className:"qualifications-txt"},"Experience With:",s.a.createElement(ye.a,{className:"experience-pill",pill:!0,variant:"primary"},"Strongman"),s.a.createElement(ye.a,{className:"experience-pill",pill:!0,variant:"primary"},"Gymnastics"),s.a.createElement(ye.a,{className:"experience-pill",pill:!0,variant:"primary"},"Olympic Lifting"),s.a.createElement(ye.a,{className:"experience-pill",pill:!0,variant:"primary"},"Functional Training"),s.a.createElement(ye.a,{className:"experience-pill",pill:!0,variant:"primary"},"Powerlifting"),s.a.createElement(ye.a,{className:"experience-pill",pill:!0,variant:"primary"},"Aerobic Capacity Training"),s.a.createElement(ye.a,{className:"experience-pill",pill:!0,variant:"primary"},"5+ Years CrossFit"))))}var Be=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={currentUser:null,userData:null,isHome:!0},e.handleSetUser=function(t){e.setState({currentUser:t}),fetch("https://wod-with-faris-backend.herokuapp.com/user/getuser?email=".concat(t.email)).then((function(e){return e.json()})).then((function(t){return e.setState({userData:t})}))},e.setHome=function(t){e.setState({isHome:t})},e.handleLogout=function(){E.a.event({category:"User",action:"".concat(e.state.userData.first_name+" "+e.state.userData.last_name," logged out")}),b.auth().signOut(),e.setState({currentUser:null}),localStorage.removeItem("prevUrl")},e}return Object(p.a)(a,[{key:"componentWillMount",value:function(){"/"===localStorage.getItem("prevUrl")?this.setState({isHome:!0}):this.setState({isHome:!1})}},{key:"render",value:function(){var e=localStorage.getItem("prevUrl"),t=this.state,a=t.currentUser,n=t.userData,r=t.isHome;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Z,{setHome:this.setHome,userData:n,logout:this.handleLogout,currentUser:a}),s.a.createElement(_,{exact:!0,path:"/classes",component:ce}),s.a.createElement(_,{exact:!0,path:"/profile",component:Se}),s.a.createElement(_,{exact:!0,path:"/createclass",component:we}),s.a.createElement(_,{exact:!0,path:"/clients",component:Ne}),s.a.createElement(_,{exact:!0,path:"/buypasses",component:Te}),s.a.createElement(_,{exact:!0,path:"/leaderboard",component:Pe}),s.a.createElement(f.b,{exact:!0,path:"/about"},s.a.createElement(He,null)),s.a.createElement(_,{exact:!0,path:"/createptsession",component:Ae}),s.a.createElement(f.b,{exact:!0,path:"/"},r?s.a.createElement(k,{user:n,setUser:this.handleSetUser}):e?s.a.createElement(f.a,{to:e}):s.a.createElement(k,{user:n,setUser:this.handleSetUser})),s.a.createElement(f.b,{exact:!0,path:"/login"},s.a.createElement(M,{setHome:this.setHome,setUser:this.handleSetUser})),s.a.createElement(f.b,{exact:!0,path:"/signup"},s.a.createElement(I,{setHome:this.setHome})))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.start({apiKey:"f2c95ccfa378c93b437a0d07e1619053",plugins:[new l.a(s.a)]});var We=o.a.getPlugin("react");u.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(T,null,s.a.createElement(U.a,null,s.a.createElement(We,null,s.a.createElement(Be,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,a){}},[[125,1,2]]]);
//# sourceMappingURL=main.70f82039.chunk.js.map